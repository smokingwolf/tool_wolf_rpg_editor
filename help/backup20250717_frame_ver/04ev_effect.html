<!doctype html>
<html lang="ja">
<HEAD>
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta name="GENERATOR" content="JustSystems Homepage Builder Version 22.0.5.0 for Windows">
<TITLE>エフェクト</TITLE><LINK rel="stylesheet" href="style.css">
</HEAD>
<BODY>
<P><BR>イベントコマンド　<B><FONT size="+1">【エフェクト】</FONT></B><BR>
<BR>
　キャラクターやピクチャ・マップに対してエフェクトをかけたり、画面のスクロールや色調変更を行うことができます。<BR>
<BR>
<IMG src="Ev_display.png" border="0"><BR>
<BR>
<BR>
<B><FONT size="+1">【各機能の説明】</FONT></B><BR>
<BR>
<B>・キャラ・ピクチャ・マップのエフェクト</B><BR>
　キャラ・ピクチャ・マップに対して、それぞれ以下の処理を行うことができます。<br>
　<span style="color : #cc0000;"><b>全ての「エフェクト」コマンドは、「変数操作＋」で取得される値には影響を与えません</b></span>ので、注意してください。<br>
　（たとえば「マップ」の「ズーム」エフェクトで150%に拡大してから「変数操作+」でキャラの「画面X座標」を取得したとしても、<b>ズームしない拡大率100%の場合の「画面X座標」</b>の値が返されます）<br>
<BR>
<BR>　- <b>ピクチャに対するエフェクト</b> <font class=fmmg>（□～□　の欄にピクチャ番号を指定してください）</font><BR>
<span style="font-size : 80%;">　　</span><font class=fred><span style="font-size : 80%;">※ピクチャに対するエフェクトは、<B>「ピクチャ」処理で指定した内容とは独立して</B>処理されます。<br>
　　※ピクチャに対するエフェクトのみ、<B>「ディレイ」</B>が設定可能です。ディレイされたコマンドを消したい場合は「<b>ピクチャ</b>」コマンドの「<b>ディレイリセット</b>」コマンドでリセットしてください（内部的にはピクチャのディレイ処理と同じ機能が使われています）。</span></font><br>
　　+ <b>フラッシュ</b> … 指定した<B>赤・緑・青</B>の値をピクチャの「カラー」に加算して1回だけフラッシュします。<BR>
　　　　　　　　　　　 ±200までの値に対応。<br>
　　+ <b>明滅フラッシュ</b> … 指定した<B>赤・緑・青</B>の値をピクチャの「カラー」に加算して1回だけ明滅します。<BR>
　　　　　　　　　　　 ±200までの値に対応。<br>
　　+ <b>カラー補正</b> … 指定した<B>赤・緑・青</B>の値だけピクチャの「カラー」に加算します。<BR>
　　　　　　　　　　　　　±200までの値に対応。<br>
　　+ <b>描画座標シフト[最終値] </b>… 指定した<B>X、Y</B>値だけ、ピクチャの描画座標をずらします。単純に最終値をシフトさせるものです。<br>
　　+ <b>描画座標シフト2[角/拡大前] </b>… 指定した<B>X、Y</B>値だけ、角度・拡大率が計算される前のピクチャの描画座標をずらします。<br>
　　+ <b>拡大率補正[100(％)基準]</b> … 100を基準として割合でピクチャ拡大率を補正します（150なら1.5倍）。テクニックの一つとして、<b>元のピクチャを1％にして拡大率補正を10000</b>にし、拡大率補正1を1ずつ変更すれば<b>0.01％単位</b>で拡大率を調整できます。<br>
　　+ <b>角度補正[±(一周3600)]</b> … ピクチャの角度を加算します。<br>
　　+ <b>不透明度補正[±]</b> … 不透明度を加算します。<br>
　　+ <b>シェイク</b> … 指定した<B>X、Yの移動分</B>で、<B>指定回数</B>だけピクチャを揺らします。<BR>
　　　　　　　　　　「<B>処理時間</B>」フレームが短いほど、高速に振動します。10万回以上にすると無限になります。<br>
　　+ <b>ズーム</b> … 指定した<B>X、Y座標</B>を中心に、<B>指定した拡大率</B>でピクチャをズームします。<br>
　　+ <b>点滅A[明滅]</b> … 指定したRGB分（最大±200）の差だけ、指定フレームでカラー変更による明滅（変化前、変化後、と交互に変化する）を繰り返します。<br>
　　　　　　　　　　「RGB値全てを０に設定する」か、または「フレーム数を０にする」と、点滅は停止します。<br>
　　+ <b>点滅B[自動ﾌﾗｯｼｭ]</b> … 指定したRGB（最大±200）の±分だけ、指定フレームでカラー変更によるフラッシュ（ウェイトせずに変化してから元に戻っていく）を繰り返します。<br>
　　　　　　　　　　「RGB値全てを０に設定する」か、または「フレーム数を０にする」と、点滅は停止します。<br>
　　+ <b>自動拡大縮小[％] </b>… <B>指定した縦・横の拡大率の±値</B>分だけ、指定フレームでピクチャを拡大縮小します。<br>
　　　　　　　　　　　　1回の拡縮後、休フレームだけ一時停止します。「鼓動」をイメージすると分かりやすいと思います。<br>
　　+ <b>自動ﾊﾟﾀｰﾝ切替[1回] </b>… <B>指定した開始パターン</B>～<B>終了パターン</B>まで、パターン番号を1ずつ指定フレーム間隔で切り替えます<br>
　　　　　　　　　　　　　一回分のパターン切り替えが終わったら、ピクチャ側で設定された元のパターン番号に戻ります。<br>
　　+ <b>自動ﾊﾟﾀｰﾝ切替[ループ] </b>… <B>指定した開始パターン</B>～<B>終了パターン</B>まで、パターン番号を1ずつ指定フレーム間隔で切り替えます<br>
　　　　　　　　　　　　　終了パターンまで切り替わったら、また開始パターンに戻ってループします。<br>
　　+ <b>自動ﾊﾟﾀｰﾝ切替[往復] </b>… <B>指定した開始パターン</B>～<B>終了パターン</B>まで、パターン番号を1ずつ指定フレーム間隔で切り替えます<br>
　　　　　　　　　　　　　終了パターンまで切り替わると、開始パターンまで1ずつ戻り、ループします。<br>
　　+ <b>全エフェクト解除[↑全部]</b> … ここから上のエフェクトを全て解除します。<br>
　　+ <b>ピクチャのコピー</b> … 指定IDのピクチャを他IDにコピーします。<br>
　　+ <b>ピクチャのID移動</b> … 指定IDのピクチャを他IDに移動させます。<br>
　　+<b> Zオーダーの変更</b> … 指定IDのピクチャのZオーダー（表示優先順位）を変更します、初期値は0です。<b><a href="#Z_order" class="green">詳しくは下部</a></b>で解説されています。<br>
<br>
　　+ <b>変換/色相彩度明度</b> … ピクチャの色相・彩度・明度を変換します。この変換は消去されるまで戻せません。<br>
　　　　　　　　　色相は±で設定でき360で一周(0：赤　120：緑　240：青)、彩度は-255～で指定、明度は-255～255の範囲で有効です。<br>
　　+ <b>変換/モノトーン</b> … ピクチャをモノトーン（1色）に変換します。色相は前述の通りで、65くらいでセピア色になります。この変換は「変換系のみ全解除」するまで戻せません。<br>
　　+ <b>変換/ぼかし</b> … ピクチャをぼかします。ぼかし量は1～16で指定できます。この変換は「変換系のみ全解除」するまで戻せません。<br>
　　　　<span style="font-size : 80%;
	color : #ff0000;
">※ギリギリの境界でパターン分割された画像に対して「ぼかし」を使用した場合、隣のパターンのぼかし分が端に映り込む場合があります。</span><br>
　　+ <b>変換/階調反転</b> … ピクチャの色を反転させます。この変換は「変換系のみ全解除」するまで戻せません。<br>
　　+ <b>変換/レベル補正</b> … ピクチャの明るさを旧MIN(0以上)～MAX(255以下)の範囲から、新MIN(0以上)～MAX(255以下)の範囲に補正します。この変換は「変換系のみ全解除」するまで戻せません。<br>
　　+ <b>変換系のみ全解除</b> … 指定ピクチャの「変換」系エフェクトを全てリセットします。<br>
<b><span style="color : #ff0000;
	font-size : 80%;
">　※【注意！】↑これらの「変換」系エフェクトは、「文字列ピクチャ」・ピクチャ裏技の「図形」・「動画」には使用できません。</span></b><br>
<BR>
　　+ <b>[動画]再生速度%[0:停]</b> …　動画再生時、速度速度を％で変更します。100で通常速、0で一時停止できます。<BR>
<BR>
　　+ <b>[動画]再生位置変更[ﾐﾘ秒]</b> … 動画再生時、再生位置をミリ秒で変更します（シーク処理）。<BR>
<BR>
　　+ <b>[動画]音声％変更</b> … 動画再生時、動画音量を％で変更します。<BR>
<br>
　　　　　<br>
<br>
<font class="fmmg">　※ピクチャのエフェクトによる補正は、ピクチャそのものの処理とは独立して処理されます。<BR>
　　 たとえば「座標シフト」を行うと、「ピクチャ処理で指定したX、Y座標＋座標シフト分のX、Y座標」に<BR>
　　描画され続けます。これは座標シフト分のX、Y値を0に戻すか、ピクチャを消去するまで有効です。<BR>
　※「フラッシュ」や「色調の加算」は、「ピクチャ」処理時のカラー 「0～200」の範囲を超えて<BR>
　　 色調が変わることはありませんので、注意してください。</font><br>
<br>
<BR>　- <b>キャラに対するエフェクト</b><br>
　　+ <b>ピクセル移動(β版)</b> …<br>
　　　 ピクセル単位でイベントを移動させます。半マス分を越えるたびに精密座標に±1され、内部ピクセル補正値が0に戻ります。<br>
　　　「主人公」や「マップイベント」をピクセル移動で移動させた場合、マップの侵入不可チップや通行不可マップイベントに当たるとそこで停止します。<br>
　　　また、「並列イベント」でこのエフェクトを使用して主人公を動かすと、「プレイヤー接触」や「イベント接触」のイベントを起動させることができます。<br>
　　　ただし、現状は<b><span style="color : #ff0000;">【主人公だけがピクセル移動を行い、イベント側はマス目移動を行う】</span></b>という前提の当たり判定処理になっています。「すり抜け」前提ならイベントがピクセル移動しても問題ないと思います。<br>
<span style="font-size : 80%;
	color : #cc0000;
">　　※<b>【注意！】</b> 現在、「イベント側」の当たり判定はどんな状況でも「マス目単位」で判定するため、もしイベントも主人公もピクセル移動させた場合、（最大半マス内の）見えない当たり判定にぶつかったり、急に押し出されたりする場合があります。また、<b>半タイル以上の速度で移動するとマップに一瞬埋まる</b>可能性があります。<br>
<br>
　　<s>※「ピクセル移動」しても、アニメ状態的には「<b>待機時アニメ</b>」状態のままとなります。<br>
</s>　→　Ver3.320以降では3フレーム内に1ピクセル以上移動した場合、「移動アニメ」をするようになりました。<br>
<br>
　　※主人公がピクセル移動をやめてマス目移動に戻った場合、ピクセルズレ自体は維持され、障害物にぶつかった時点でピクセル補正値が0に戻ります。<br>
<br>
　　※主人公のピクセル補正値を得たい場合は「変数操作+」から。直接入力したい場合は変数指定9180007（X）、9180008（Y）に値を入出力してください（入力時は要「X番の変数呼出」）。<br>
</span><br>
　　+ <b>フラッシュ</b> … 指定した<B>赤・緑・青</B>の値を加算してフラッシュします。±100までの値に対応。<BR>
　　　　　　　　　　　 マイナスの値を入れると暗くなります。-100,-100,-100で真っ黒に。<br>
　　+ <b>シェイク</b> … 指定した<B>X、Yの移動分</B>で、<B>指定回数</B>だけキャラクターを揺らします。<BR>
　　　　　　　　　　「<B>処理時間</B>」フレームが短いほど、高速に振動します。10万回以上を指定すると無限回になります。<br>
　　+ <b>点滅A[明滅]</b> … 指定したRGB分の差だけ、指定フレームで明滅（変化前、変化後、と交互に変化する）を繰り返します。<br>
　　　　　　　　　　「RGB値全てを０に設定する」か、または「フレーム数を０にする」と、点滅は停止します。<br>
　　+ <b>点滅B[自動ﾌﾗｯｼｭ]</b> … 指定したRGB分の差だけ、指定フレームでフラッシュ（ウェイトせずに変化してから元に戻っていく）を繰り返します。<br>
　　　　　　　　　　「RGB値全てを０に設定する」か、または「フレーム数を０にする」と、点滅は停止します。<br>
　　+ <b>不透明度補正[±]</b> … キャラの不透明度を補正します。<br>
　　+ <b>強制ﾋﾟｸﾁｬﾊﾟﾀｰﾝ上書[0：ﾅｼ]</b> … キャラの画像パターンを強制的に上書きします。このパターン指定はピクチャと同じ分け方での数え方です。<br>
　　+ <b>移動アニメ強制</b> … 停止中であっても、強制的にキャラのアニメを「移動中アニメ」状態にすることができます。<br>
　　　　　　　　　　　～T.png画像や～TX.png画像のキャラの移動アニメを行わせるためにVer3.10で用意されました。<br>　　+ <b>向き変更</b> … キャラの向きを1～9で変更します（テンキーの方向に対応）。0以下、10以上、5、の値を入れても向きは変化しません。<br>
　　+ <b>高さ変更</b> … キャラの高さを変更します。高さ1以上にすると影の位置はそのままにキャラだけが浮きます。また、高さ1以上になっているキャラに対しては「下半身が半透明」チップが無効になります。<br>
　　+ <b>待機時アニメON/OFF</b> … キャラが移動していない状況でのアニメーションのON/OFFを切り替えます。(Ver3.30より)<br>　　+ <b>移動アニメON/OFF</b> … キャラが移動中のアニメーションのON/OFFを切り替えます。(Ver3.30より)<br>　　+ <b>向き固定ON/OFF</b> … キャラの向き固定のON/OFFを切り替えます。固定中は、移動をしても元の方向を向き続けます。(Ver3.30より)<br>　　+ <b>すり抜けON/OFF</b> … キャラのすり抜け状態のON/OFFを切り替えます。ONにするとキャラやマップをすり抜けられるようになります。(Ver3.30より)<br>
　　+ <b>前面表示ON/OFF</b> … キャラが前面に表示されるようになります。(Ver3.30より)<br>　　+ <b>移動速度変更</b> … 移動頻度を変更します。 (Ver3.30より)<br>　　+ <b>移動頻度変更</b> … 移動頻度を変更します。 (Ver3.30より)<br>　　+ <b>アニメ頻度変更</b> … アニメ頻度を変更します。 (Ver3.50より)<br>　　+ <b>半/全歩移動に設定</b> … 半歩・全歩移動を切り替えます。 (Ver3.50より)<br>
　　+ <b>ｷｬﾗﾁｯﾌﾟ変更</b> … キャラチップの画像を変更します。\s[]、\v[]、\cself[]などの数値・文字列代入特殊文字が使用できます。<b>空にすると重ねキャラチップもまとめて消去されます</b>。<br>
　　+ <b>重ねｷｬﾗﾁｯﾌﾟ変更 </b>… 任意のレイヤーでキャラに重ねるキャラチップ画像を変更します。-1以下のレイヤーは本体チップの裏側、1以上のレイヤーは本体の上側に表示され、何層でも重ねられます(Ver3.50より、これ以前は5層まで)。着せ替え機能などに使えます。\s[]、\v[]、\cself[]などの数値・文字列代入特殊文字が使用できます。<br>
　　+ <b>ピクチャをリンク </b>… 指定IDのピクチャに「キャラクターの座標・拡大率」を連動させることができます。また、表示優先度をキャラと同じレイヤーにすることもできます。設定可能な内容は以下の通りです。(Ver3.50より)<table border="0">
  <tbody>
    <tr>
      <td style="width : 18px;"></td>
      <td><span style="font-size : 80%;">　・</span><b><span style="font-size : 80%;">ピクチャID</span></b><span style="font-size : 80%;">：リンクしたいピクチャを設定します。</span><br>
<span style="font-size : 80%;">　・</span><b><span style="font-size : 80%;">リンクさせるレイヤー</span></b><br>
<span style="font-size : 80%;">　　- をキャラの表に：キャラのすぐ表側にピクチャが表示されます。（キャラ本体と同じく、リンクさせたピクチャが他キャラや▲チップで隠れます）</span><br>
<span style="font-size : 80%;">　　- をキャラの裏に：キャラのすぐ裏側にピクチャが表示されます。</span><br>
<span style="font-size : 80%;">　　- を影レイヤーに：「全てのキャラの足下」のレイヤー、かつ「地面のY座標(キャラの「高さ」を変更しても変化しません）」にピクチャが表示されます。</span><br>
<span style="font-size : 80%;">　　- ピクチャのまま：ピクチャのレイヤーのまま、キャラの座標や拡大率のみ反映し続けます。</span><br>
<span style="font-size : 80%;">　　- リンク解除：そのキャラから指定ピクチャ1枚のリンクを解除します。</span><br>
<span style="font-size : 80%;">　　- 全リンク解除：そのキャラから全てのリンクされたピクチャを解除します。</span><br>
<span style="font-size : 80%;">　・</span><b><span style="font-size : 80%;">連動させるパラメータ</span></b><br>
<span style="font-size : 80%;">　　- XY拡大連動：（マップズームを考慮した）画面X・Y座標をピクチャに「加算」し、マップズームによる拡大率の変化をピクチャにも反映させます。</span><br>
<span style="font-size : 80%;">　　- XYのみ連動：（マップズームを考慮した）画面X・Y座標のみピクチャに「加算」します。マップズームの拡大率はピクチャに反映されません。</span><br>
      <br>
      <span style="font-size : 80%;"><b>【※ピクチャリンクの細かい仕様】</b></span><br>
      <span style="font-size : 80%;">　・「ピクチャリンク」すると元あったピクチャは消えます（ピクチャリンクを全て外すと元のピクチャ座標通りの場所に出てきます）</span><br>
      <span style="font-size : 80%;">　・同じピクチャを「複数のキャラ」に同時に「ピクチャリンク」し、複数表示させることができます。<br>
      　　ただし、「リンクさせるレイヤー」を「</span><span style="font-size : 80%;
	color : #cc0000;
"><b>ピクチャのまま</b></span><span style="font-size : 80%;">」にした場合のみ、挙動がピクチャと同じになるので</span><span style="font-size : 80%;
	color : #cc0000;
"><b>最初の1イベントにしか表示されません</b></span><span style="font-size : 80%;">。</span><br>
      <span style="font-size : 80%;">　・「マップEv」へのピクチャリンクはマップ移動で解除されます。「主人公」「仲間」へのピクチャリンクはマップ移動しても解除されません。</span><br>
      <span style="font-size : 80%;">　・リンクしていると、ピクチャの「X0 Y0」座標が「キャラの足下中央」になります（↑の「画面X・Yをピクチャに加算」するとはそういうことです）。</span><br>
      <span style="font-size : 80%;">　　→　ピクチャの「表示基準位置（左上・中央など）」の影響も受けます。<br>
      　・ピクチャリンクさせるピクチャは</span><span style="font-size : 80%;
	color : #cc0000;
"><b>「スクロールリンク」をオフにしてください</b></span><span style="font-size : 80%;">（スクロールのリンクはキャラ側ですでに行われているので不要なのです）</span></td>
    </tr>
  </tbody>
</table>
<P><br>
<br>
<br>
<br>
　- <b>マップに対するエフェクト</b><br>
　　+ <b>ズーム</b> … 指定した<B>X、Y座標</B>を中心に、<B>指定した拡大率</B>でマップ、イベント、<BR>
　　　　　　　　　　プレイヤーキャラ、仲間キャラ、背景、フォグのズームを行います。<BR>
　　　　　　　　　　元の状態に戻す場合は、<B>拡大率</B>を100％にしてコマンドを実行してください。<br>
<BR>
<font class="fmmg">　　　　　※ただし、<font class=fred>拡大率は100％以上</font>の値にしてください。100％未満にすることも可能ですが、<br>
　　　　　　 本来100％で描画される範囲の外は真っ黒になってしまったり、ループの逆側のチップが<BR>
　　　　　　 1マス分描画されてしまったりします。処理速度を維持する都合上、この現象への対処は<BR>
　　　　　　 行いませんので、ご了承下さい。この現象をカバーして開発なさる分には構いません。<br>
<br>
<span style="color : #cc0000;">　　　　　※「ズーム前に画面外だった場所」をこのマップのズーム機能で表示させようとした場合、<br>
　　　　　　　マップイベントが表示されなくなる場合があります。<br>
　　　　　　　これ自体は現状の仕様なので、パラメータを工夫して、そうならないように使ってください。<br>
</span><br>
　　　　　※また、拡大率を100％以上にした場合、主人公が画面の端に行った場合に見切れて<br>
　　　　　　 主人公が見えなくなりますが、マップのズームとしてはこれで正常な仕様です。<br>
　　　　　　 拡大したままプレイさせる場合は、マップの端の方を通行不能にするなどの工夫が必要です。</font><br>
<span style="color : #cc0000;"><br>
<BR>
</span><span style="color : #000000;">　　+ </span><b>シェイク</b> … 画面を揺らします。揺れの種類は、「<B>縦揺れ・横揺れ・揺れを止める</B>」から選択可。<BR>
　　　　　　　　　　「<B>揺れの強さ</B>」と「<B>揺れの速さ</B>」が設定可能で、「揺れの強さ」は一度の揺れ幅の<BR>
　　　　　　　　　　大きさを表し、「揺れの速さ」は一度の揺れが起きる時間の早さを表します。<BR>
　　　　　　　　　　共に、値が大きくなるほど揺れが激しくなります。<br>
　　　　　　　　　　10万フレーム以上を指定すると無限に実行されます。<br>
<br>
　　<span style="color : #999999;">+ [P]処理　…　プロ版専用の機能です→</span>　<b><a href="04ev_effect_Pro.html" class="blue">[P]</a></b><BR>
<br>
<br>
<br>
　- <b>マスク エフェクト</b><br>
　　マスクはピクチャやキャラの表示範囲を一部封印することができる機能です。<br>
　　<span style="color : #cc0000; font-family: &quot;Meiryo UI&quot;, &quot;MS PGothic&quot; font-size: 13.3333px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color : #fdfdff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display : inline; float: none;"><span style="color : #cc0000; font-family: &quot;Meiryo UI&quot;, &quot;MS PGothic&quot; font-size: 13.3333px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(253, 253, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display : inline; float: none;"><b>使えるマスク用のキャンバス（内部的に白黒画像として持っています）は「1レイヤー分」だけ</b></span></span><span style="color: rgb(67, 67, 149); font-family: &quot;Meiryo UI&quot;, &quot;MS PGothic&quot;; font-size: 13.3333px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(253, 253, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">です。<br>
　　</span>何らかの対象の「マスクをON」にすると、「マスクで設定した表示範囲だけ」しか表示されなくなります。<br>
　　マスク画像に書き込む場合は「白黒の画像」を使います。<br>
<span style="color : #cc0000;"><b>　　　※なお、画面サイズ「320×240[x2]」の場合、「全画面」マスクには「640×480」サイズが必要です。<br>
　　　　→　画面サイズに[x?](2倍、3倍)補正がある場合は、その倍数をかけた値のマスクサイズが必要です。</b></span><br>
<br>
　　+ <b>マスク全リセット</b><br>
<br>
　　+ <b>全面[表示]に塗りつぶす </b>　：<br>
　　　　まったく表示範囲を封じない、デフォルト状態に戻します。<br>
<br>
　　+ <b>全面[非表示]に塗りつぶす</b>　：<br>
　　　　画面全体の表示を封じる状態にします。この直後にマスクをONにすると、当然何も表示されません。<br>
<br>
　　+ <b>(画像)の表示範囲(黒)追加</b><br>
　　　　画像をもとに一部だけを表示可能にします。<br>
　　　　選んだ画像の、真っ黒の部分だけが表示可能範囲として書き込まれます。<br>
　　　　\s[]、\v[]、\cself[]などの数値・文字列代入特殊文字が使用できます。<br>
　　　　<span style="color : #cc0000;">「&lt;」から始まる特殊指定などは一切使用できません。</span><br>
<br>
　　+ <b>(画像)の非表示範囲(白)追加 </b><br>
　　　　画像をもとに一部だけを表示不能にします。<br>
　　　　選んだ画像の、真っ白の部分だけが表示不能範囲として書き込まれます。<br>
　　　　\s[]、\v[]、\cself[]などの数値・文字列代入特殊文字が使用できます。<br>
　　　　<span style="color : #cc0000;">「&lt;」から始まる特殊指定などは一切使用できません。</span><br>
<br>
　　+ <b>（キャラID）のキャラのマスクON</b><br>
　　+ <b>（キャラID）のキャラのマスク解除</b><br>
　　+ <b>マップのマスクON</b><br>
　　+ <b>マップのマスク解除</b><br>
　　+ <b>(ピクチャID)をﾋﾟｸﾁｬﾏｽｸONにする</b><br>
　　+ <b>(ピクチャID)のﾋﾟｸﾁｬﾏｽｸ解除</b><br>
<br>

<table border="0" class="mgray" cellpadding="5" cellspacing="1">
  <tbody>
    <tr>
      <td class="white"><b>&nbsp;【マスクで使われる素材 / マスクの実例】</b><br>
<br>
      　　↓マスクに書き込む画像は、このような白黒画像です（そのまま保存して使用可能です）<br>
　　<img src="04ev_effect_mask1.png" border="1">　<img src="04ev_effect_mask2.png" border="1" height="120">　<img src="04ev_effect_mask3.png" border="1"><br>
      　　「(画像)の表示範囲(黒)追加」を使った場合、黒い部分が「表示可能範囲」としてマスクに書き込まれます。<br>
      <br>
      　　2つめの「細長い斜め画像」で表示範囲をうまく作れば、以下のようなカットインを作ることも可能です。<br>
      　　複数並べて表示範囲を調節することで、こういったアニメーション演出も作れるでしょう。<br>
      　　　<img src="04ev_effect_mask.gif" border="1"></td>
    </tr>
  </tbody>
</table>
<P><br>
<BR>
<BR>
<B>・画面のスクロール</B><BR>
　画面をスクロールさせます（画面の中心をずらす）。ここでは以下の4種類の指定ができます。<BR>
<BR>
　- <B>画面を移動</B> … 画面をX、Yの数値ボックスに指定したチップ数だけスクロールさせます。なお、X､Yの数値ボックスには変数も指定可能です（例：2000000と入力すれば通常変数0番の値が読み込まれます）<BR>
　- <B>主人公に戻す</B> … 主人公の場所が中心になるようスクロールを戻します。<BR>
　- <B>縦横スクロールをロック</B> … 以後、画面を縦にも横にもスクロールさせないようにします。 (Ver3.50より名前変更)<br>　- <B>横スクロールをロック</B> … 以後、画面を横方向だけスクロールさせないようにします。 (Ver3.50より)<br>　- <B>縦スクロールをロック</B> … 以後、画面を縦方向だけスクロールさせないようにします。 (Ver3.50より)<br>
　- <B>ロック解除</B> … スクロールのロックを解除します。ただし、解除しても自動で主人公中心になったりはしないので、たいていの場合はこの後「主人公に戻す」を使う必要があるでしょう。<BR>
<BR>
　なお、「<B>移動完了までウェイト</B>」をオンにしているとスクロール処理が終わるまでイベント処理を進めずに待機します。<BR>
　<BR>
<br>
<BR>
<BR>
<B>・色調変更</B><BR>
　画面内のRGB（赤・緑・青）それぞれの色調を変化させます。0が最小値で、200が最大値、100が通常の値です。「<B>フラッシュにする</B>」をチェックすると、フレーム数の間だけその色で画面を光らせます。<BR>
　<B>- 色リセット</B> … 色を全て100に戻します。<BR>
　<B>- 真っ暗に</B> … 色を0、0、0にします。これで色調変更やフラッシュを行うとブラックになります。<BR>
　<B>- 真っ白に</B> … 色を200、200、200にします。これで色調変更を行うと白っぽく、フラッシュは完全なホワイトになります。<BR>
<BR>
　※ピクチャ番号がマイナスのピクチャは「マップの上、イベントの下」にある都合上、この色調変更の影響を受けます。<BR>
　　ピクチャ番号が0以上のピクチャは色調変更の影響を受けません。(2017/2/27)<BR>
<BR>
<br>

<hr>
<P><b><span style="font-size : 120%;" id="Z_order">【Zオーダーの解説】</span></b><br>
<br>
　「Zオーダー」はピクチャ間の上下関係を柔軟に変更できるパラメーターです。<br>
　「表示」されたばかりのピクチャのZオーダーは全て「<b>0</b>」です。<br>
<br>
　→　あるピクチャのZオーダーを「1」に変更すると、そのピクチャはZオーダー「0」の全ピクチャより前面に表示されます。<br>
　　　Zオーダーを「-1」にするとZオーダー「0」の全ピクチャより背面に表示されます。<br>
　　　Zオーダーには「-2000000000(-20億)」のような値も指定可能です。<br>
<br>
　→　同じ「Zオーダー」なら通常通り「ピクチャ番号」の大きい方が上に表示されます。<br>
<br>
　→　ただし、「Zオーダー」をいくらにしても以下のピクチャ番号ごとの上下関係からは抜けられません。<b><span style="color : #cc0000;"><br>
　Zオーダーをいくら変えてもピクチャ番号【-40万】【-30万】【-20万】【-10万】【0】【10万】の壁は越えられない</span></b>、と考えると理解しやすいでしょう。 
<table border="0">
  <tbody>
    <tr>
      <td style="width : 32px;"></td>
      <td style="width : 238px;">
      <table border="1" style="width : 269px;">
  <tbody>
          <tr>
            <td>&nbsp;ピクチャ挙動Ver2の場合 (Ver3.50以降)</td>
          </tr>
          <tr>
      <td><span>&nbsp;<span style="font-size : 80%;">↑上層</span><br>
            <span style="font-size : 80%;">　</span><b><span style="font-size : 80%;
	color : #cc0000;
">【ピクチャ番号 10万以上　のピクチャ】</span></b><br>
            <span style="font-size : 80%;">　--- 文章や選択肢ウィンドウ ---</span><br>
            <span style="font-size : 80%;">　</span><b><span style="font-size : 80%;
	color : #cc0000;
">【ピクチャ番号 0～99999　のピクチャ】</span></b><br>
            <span style="font-size : 80%;">　--- フォグ ---</span><br>
            <span style="font-size : 80%;">　</span><b><span style="font-size : 80%;
	color : #cc0000;
">【ピクチャ番号 -1～-99999　のピクチャ】</span></b><br>
            <span style="font-size : 80%;">　--- ★属性のマップチップ ---</span><br>
            　<b><span style="font-size : 80%;
	color : #cc0000;
">【ピクチャ番号 -10万～-199999　のピクチャ】</span></b><br>
            </span><span style="font-size : 80%;">　--- キャラ・▲属性のマップチップ ---</span><span><br>
            　<b><span style="font-size : 80%;
	color : #cc0000;
">【ピクチャ番号 -20万～-299999　のピクチャ】</span></b><br>
            </span><span style="font-size : 80%;">　--- マップチップ ---</span><span><br>
            　<b><span style="font-size : 80%;
	color : #cc0000;
">【ピクチャ番号 -30万～-399999　のピクチャ】</span></b><br>
            </span><span style="font-size : 80%;">　--- 遠景 ---</span><span><br>
            <span style="font-size : 80%;">　</span><b><span style="font-size : 80%;
	color : #cc0000;
">【ピクチャ番号 -40万以下　のピクチャ】</span></b><br>
            <span style="font-size : 80%;">↓下層</span></span></td>
    </tr>
  </tbody>
</table>
      </td>
      <td style="width : 224px;">
      <table border="1">
  <tbody>
          <tr>
            <td>&nbsp;ピクチャ挙動Ver1の場合(旧バージョン)</td>
          </tr>
          <tr>
      <td>&nbsp;<span style="font-size : 80%;">↑上層</span><br>
<span style="font-size : 80%;">　</span><b><span style="font-size : 80%;
	color : #cc0000;
">【ピクチャ番号 10万以上　のピクチャ】</span></b><br>
<span style="font-size : 80%;">　--- 文章や選択肢ウィンドウ ---</span><br>
<span style="font-size : 80%;">　</span><b><span style="font-size : 80%;
	color : #cc0000;
">【ピクチャ番号 0～99999　のピクチャ】</span></b><br>
<span style="font-size : 80%;">　--- イベント・フォグ・★属性のマップチップ ---</span><br>
<span style="font-size : 80%;">　</span><b><span style="font-size : 80%;
	color : #cc0000;
">【ピクチャ番号 -1～-99999　のピクチャ】</span></b><br>
<span style="font-size : 80%;">　--- マップチップ ---</span><br>
<span style="font-size : 80%;">　</span><b><span style="font-size : 80%;
	color : #cc0000;
">【ピクチャ番号 -10万以下　のピクチャ】</span></b><br>
<span style="font-size : 80%;">　--- 遠景 ---</span><br>
<span style="font-size : 80%;">↓下層</span></td>
    </tr>
  </tbody>
</table>
      </td>
    </tr>
  </tbody>
</table>
<P><span style="font-size : 80%;">　【例】「ピクチャ番号【-1～-99999】のZオーダー【100】のピクチャ」は</span><br>
<span style="font-size : 80%;">　　　　「ピクチャ番号【0～99999】のZオーダー【0】のピクチャ」よりも</span><span style="font-size : 80%;">下に表示されます。<br>
　　　（Zオーダーがいくら大きくても各ピクチャ範囲の上下関係の方が優先されてしまっている例）</span>

<P><br>
        　　→　「Zオーダー」を変更すると従来のピクチャ表示とは別の処理に<br>
　　　　切り替わるのですが、これによって少しだけ描画負荷が増えるようです。<br>
　　　　開発者の環境ではピクチャ2000枚で0.3ms程度の増加が確認されました。<br>
        　　　　<b>全ピクチャの「Zオーダー」を全部「0」にすると従来の表示処理に戻る</b>ので<br>
        　　　　負荷が少し軽くなります。(2024/03/12修正)<br>
<br>
<br>
<b>[解説映像（サンプルゲーム内の紹介)]</b><br>
　　　<iframe width="400" height="255" src="https://www.youtube.com/embed/ghtIlkXiyHE?si=n2XLqhEvC_RTJnHq" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><br>
　<br>
<br>
<br>
<br>
<b>【Zオーダーの利用例】</b><br>
　・開発進行と共に「ピクチャ番号」をひたすら後ろに継ぎ足しながら使っても上下関係を「Zオーダー」で指定し直せるので、ピクチャ管理が少し楽になります。<br>
<br>
　・「選択中のカードだけ最前面に表示する」といった演出が「Zオーダーの変更」だけで簡単に作れます。<br>
<br>
　・2D見下ろしRPGのキャラや物体を全てピクチャで表示するなど、大量の画像が表示される中で画像の重なり関係を高速で変化させたい場合にもそこそこの負荷で実現できるようになります。<br>
　（「ピクチャIDのコピー・移動」でも実現できますが、数百枚のピクチャのIDを移動させると非常に大きな負荷がかかります。ですが、「Zオーダー」なら1フレーム中にどんなに多くのピクチャの表示順を変更しても負荷は変わりません）<br>
<br>
　・強引に3D描画をするときも、より高速な処理で作れることが期待できます。<br>

<hr>
<P><b><span style="font-size : 120%;" id="Z_order">【隠し機能　ｷｬﾗﾁｯﾌﾟ変更・重ねｷｬﾗﾁｯﾌﾟ変更でレイヤーエフェクトをかける】</span></b> (Ver3.50より)<br>
　<br>
　　「キャラ」へのエフェクトの「<span id="Z_order">ｷｬﾗﾁｯﾌﾟ変更・重ねｷｬﾗﾁｯﾌﾟ</span>」コマンドにて、<b><span style="color : #cc0000;">ファイル名の先頭</span></b>に<b><span style="color : #cc0000;">&lt;&lt;&gt;&gt;</span></b>で囲われた特殊なコードを入れると、1レイヤーだけ「座標補正」したり、描画モードを「加算」に変えたり、「色相」や「不透明度」を変更したりできます。<br>
<br>
入力例： <span style="font-size : 80%;"><b>&lt;&lt;X+=5/Y+=-1/OPA=128/MODE=1/HUE=90/SAT=100/BLI=100/HALF&gt;&gt;CharaChip/test.png</b></span><br>
<br>
　<b>【指定できるレイヤーエフェクト】</b><br>
　　・X+=?：X座標の表示位置を?ピクセルだけ加算します。マイナス値も指定可能です。<br>
　　・Y+=?：Y座標の表示位置を?ピクセルだけ加算します。マイナス値も指定可能です。<br>
　　・OPA=?：レイヤーの不透明度を0～255で補正します。<br>
　　・MODE=?：レイヤーを、?=1なら「加算」、2なら「減算」、3なら「乗算」にします。<br>
　　・HUE=?:レイヤーの色相を0～360で補正します。0なら変化なしです。<br>
　　・SAT=?：レイヤーの彩度を-255～255で補正します。0なら変化なしです。<br>
　　・BLI=?：レイヤーの明るさを-255～255で補正します。0なら変化なしです。<br>
　　　　　　　-255だと真っ黒、255だと真っ白になります。<br>
　　・BLR=?：レイヤーのぼかし具合を1～16の値で設定します。ただし元の画像サイズの範囲以上には広がりません。<br>
　　　　　　 「元画像」をぼかすので、キャラチップの隣のパターンにもぼかし部分が漏れる可能性があります。<br>
　　・HALF：レイヤーの画像のサイズを1/2にします<br>
　　・QUAT：レイヤーの画像のサイズを1/4にします。HALFより優先されます。<br>

<hr>
<P>
<b><span style="font-size : 120%;">【隠し機能　<span id="Z_order">「ｷｬﾗﾁｯﾌﾟ変更・重ねｷｬﾗﾁｯﾌﾟ変更」で、</span>4つのXY配列をキャラ画像として設定する &lt;XY_IMAGE/～&gt; / &lt;XYN_IMAGE/～&gt;】　</span></b><br>
<br>
　「キャラ」へのエフェクトの「<span id="Z_order">ｷｬﾗﾁｯﾌﾟ変更・重ねｷｬﾗﾁｯﾌﾟ</span>」コマンドにて、「ファイル名」の代わりに「<b>&lt;XY_IMAGE/A=1/R=2/G=3/B=4&gt;</b>」などと入力して「表示」すると、XY配列の「番号呼び出し 1」のアルファ値、「番号呼び出し 2」のR(赤)値、「番号呼び出し 3」のG(緑)値、「番号呼び出し
4」のB(青)値を使った画像をキャラ画像として表示します。この場合、「<b>一番大きなXY配列のサイズが画像サイズ</b>」となります。<br>
　この機能を駆使すれば、ミニマップなどをゲーム中に作成することができます。<br>
<br>
　→　なお、セーブデータのロード時には<b>【ロード時点の各XY配列の内容】</b>に従って画像が再構成されます。<br>
　　つまり指定されたXY配列を変更していなければ同じ画像が、XY配列変更していればそれに合わせた内容で画像が表示されます。<br>
<br>
<br>
<b>【指定方法の説明】</b><br>
　<b>&lt;XY_IMAGE/A=10/R=11/G=12/B=13/XSIZE=100/YSIZE=120&gt;</b><br>
　 この「<b>&lt;XY_IMAGE/</b>」から始まる指定はXY配列を「<b>数値</b>」で呼び出す方法です。<br>
　 またこの例では、<b>XSIZE、YSIZEで表示したい画像の横サイズ、縦サイズ指定が可能を行っています</b>。<br>
<br>
<b>&lt;XYN_IMAGE/A=Alpha/R=Red/G=Green/B=Blue&gt;</b><br>
　各XY配列を「<b>名前呼び出し</b>」で呼び出す場合は<b>&lt;XY<span style="color : #cc0000;">N</span>_IMAGE/</b> から始めてください。<br>
　この例ではアルファ値の配列として名前呼び出しのXY配列「Alpha」を、同様にR値は「Red」、G値は「Green」、B値は「Blue」の名前のXY配列が呼び出されています。<br>
<br>
<b>&lt;XYN_IMAGE/A=/R=Red/G=Green/B=&gt;</b><br>
　上とほぼ同じ名前呼び出し方式ですが、<b>A=とB=に名前が指定されていません</b>。このように「空白」を指定すると、以下のようにデフォルトの配列で画像表示されます。<br>
　　●A=全て255で塗りつぶされた配列。<br>
　　●R・G・B=全て0で塗りつぶされた配列。<br>
　
</BODY>
</html>