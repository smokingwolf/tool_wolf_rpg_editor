<!doctype html>
<html lang="ja">
<HEAD>
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta name="GENERATOR" content="JustSystems Homepage Builder Version 22.0.5.0 for Windows">
<TITLE>変数操作</TITLE>
<LINK rel="stylesheet" href="style.css">
</HEAD>
<BODY>
<P><BR>
イベントコマンド　<B><FONT size="+1">【変数操作】</FONT></B><BR>
<BR>
　指定した変数の値を変更したり、計算を行ったりできます。<BR>
<BR>
<IMG src="Ev_value.png" border="0"><BR>
<BR>
<BR>
<B>※計算の注意点：</B><BR>
　WOLF RPGエディターでは処理高速化のため、「<B><FONT color="#ff0000">コモンイベント</FONT></B>」中に限って変数操作では数値の限界値処理をしていません。<BR>
　これによって一体どうなるかというと、たとえば<B><FONT color="#ff0000">数値を足していって2,147,483,647の限界値を超える</FONT></B>と、<BR>
　オーバーフローして<B><FONT color="#ff0000">数値が-2,147,483,648になってしまう</FONT></B>のです。<BR>
　コモンイベント中では、±20億を超えない組み方を行ってください。<br>
　<b><span style="color : #ff0000;">マップイベント中ではこの問題は起きず、常に±20億の値におさめられます。</span></b><BR>
<BR>
　→　なお、変数操作のどれかのチェックボックスに1つでもチェックが入っていたり、数値・セルフ変数・通常変数以外の<BR>
　　　 変数を使用した場合はこの「高速化」が行われないため、上下限は±20億までになります。<BR>
<BR>
<BR>
<BR>
<B><FONT size="+1">【各部の説明】</FONT></B><BR>
<BR>
<B>１．代入先の指定</B><BR>
　代入先の変数を選択します。<BR>
<BR>
・<B>Self/変/Sys/可変DB</B>　…　代入先の種類を選択します。前からセルフ変数/通常変数と予備変数/システム変数/可変データベース、です。<BR>
<BR>
・<B>X番の変数呼び出し</B>　…　「呼び出した変数の値」の変数を呼び出します。たとえば「通常変数0番」を指定したときに通常変数0番に2000005（通常変数5番を表す値）が格納されてれば、最終的に「通常変数5番」を代入先とします。<BR>
<BR>
<BR>
<BR>
<B>２．変数操作オプション</B><BR>
<BR>
・<B>結果を±999999に収める</B> … 値の増減が起きても変数の領域（100万以上）に踏み込まないようにします。変数の値が100万を超えると別の変数の値を呼び出してしまうため、それを避
けるためのチェックです。これをオンにすると、結果の値が100万以上になると999999に、-100万以下だと-999999に変更します。<BR>
<BR>
・<B>実数計算（小数切り捨て）</B> … これをオンにしていると、内部処理を一時的に小数点以下まで見て計算します。たとえば、「<B>100 *= 3/2</B>」という計算をしたとき、実数計算オンにしていれば「<B>100 *= 1.5</B>」で結果が150になりますが、実数計算をオフにしてると内部的に「<B>100 *= 1（整数計算すると3/2 = 1として扱われる）</B>」となるので結果が100になります。戦闘の計算式などで特に重要になると思います。<BR>
<BR>
<BR>
<BR>
<B>３．～ 「」個</B>　オプション<BR>
　複数の変数に対して一斉に処理を行いたい場合、このオプションをオンにします。<BR>
　たとえば「V0（通常変数0番）」から「<B>4</B>」個処理するように指定すると、「V0～V4」までの変数に対して同時に処理を行うことができます。<BR>
<BR>
<BR>
<BR>
<B>４．代入演算子</B><BR>
　代入の仕方を指定します。「＝」「＋＝」「－＝」「×＝」「÷＝」「％＝」「引上げ」「引下げ」「絶対値」「角度x10←傾き」「sin[x1000]←角度x10」「cos[x1000]←角度x10」「√[x1000]」から選択可能です、詳しい説明は「<A href="04ev_calc.html">計算式の説明</A>」をご覧下さい。<BR>
<BR>
<BR>
<BR>
<B>５．代入する値</B><BR>
　ここで代入する値を指定します。2つの変数または整数値を同時に処理することができます。<br>
　文字列変数を指定するとその文字列を数値に変換します。ただし、正常に読み込めるのは文字列先頭から始まる文字列に限ります。<BR>
<BR>
・<B>手動/変/Sys/可変DB</B> … 読み込む値の種類を選択します。手動で各々の変数を呼び出すコードを入れれば切り替えなくても構いません。<BR>
<BR>
・<B>データを呼ばない</B> … 100万以上の数値を入れても変数を呼ばず、そのままの整数値として扱います。<BR>
・<B>X番の変数呼出</B> … 1の「X番の変数呼出」と同様です。<BR>
<BR>
<BR>
<BR>
<B>６．変数名の設定</B><BR>
　この欄で変数に名前を付けたり、変数の最大数を増やしたりすることができます。設定したい変数をプルダウンリストから選び、設定したい名前を入力したら「<B>設定</B>」ボタンを押してください。<BR>
　「<B>↓コピー</B>」ボタンは、プルダウンリストで選択中の変数の名前を、下の「変数名」にコピーします。<BR>
　「<B>サイズ+1</B>」ボタンは、プルダウンリストで選択中の変数種の最大数を一つ増やします。例えば、「V3-1」（予備変数3の1番）が表示されているときに「サイズ+1」ボタンを押すと、予備変数3の変数最大数が一つ増加します。<BR>
<BR>
　「文字入力欄」にカーソルが当たってる状態で、次のようなショートカット キーが使用できます。
　- 上下キー　…　名前を変えたい変数を切り替える<BR>
　- Enterキー …　名前を設定　・　「名前を付ける」ボタンを押したのと同じ<BR>
　- Shift + ↓　…　対象変数の名前を名前欄にコピー　「↓コピー」ボタンを押したのを同じ<BR>
　- Shift + ←　…　名前欄をクリアする<BR>
<BR>
<BR>
※<B>「クリア」ボタン</B> … 入力された内容をリセットします。<BR>
<BR>
<BR>
<BR>
<B><FONT size=+1>【特殊な機能の解説】</FONT></B><BR>
<BR>
<b>・文字列を数値に変換できる。</b><br>
　右辺の値に文字列変数（例：3000000/文字列変数0番など）を指定すると、<BR>
　その文字列を数値に変換して処理できる機能があります。<br>
　ただし、正常に読み込めるのは文字列先頭から始まる半角数字に限ります。<br>
　（例：文字列「234」なら正常に234になるが、「82g1A」は82に、「A42」は0になってしまう）<br>
<font class="fmmg">　※外部テキストファイルにデータ出力した内容を読み込みたい場合や、<br>
　　 一つの文字列変数に大量に数値を保存して読み込む場合などに便利だと思います。</font><BR>
　<br>
　→　文字列から数値に直した瞬間の値は、どんな大きな値でも<br>
　　　<b><font color="#ff0000">-2,147,483,648　～　2,147,483,647</font></b>内の範囲におさめられます（Ver3時点の挙動）。<br>
　　　その後、最終的な計算結果が±20億を超えていた場合は最終値が±20億におさめられます。<BR>

</BODY>
</HTML>