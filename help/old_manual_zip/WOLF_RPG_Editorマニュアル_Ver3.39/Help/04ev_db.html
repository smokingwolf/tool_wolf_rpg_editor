<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta name="GENERATOR" content="JustSystems Homepage Builder Version 22.0.5.0 for Windows">
<TITLE>DB（データベース）操作</TITLE>
<LINK rel="stylesheet" href="style.css">
</HEAD>
<BODY>
<P><BR>イベントコマンド　<B><FONT size="+1">【DB（データベース）操作】</FONT></B><BR>
<BR>
　各データベースから値を読み込んだり、可変データベースの値を変更したりすることができます。<BR>
<BR>
<IMG src="Ev_db.png" border="0"><BR>
<BR>
<B><FONT size="+1">【機能の説明】</FONT></B><BR>
<BR>
<B>１．可変DB / システムDB / ユーザDB ボタン</B> ： <B>DBへ代入 / 変数に代入</B>ボタン<BR>
　どのデータベースに対して処理を行うかを選択するボタンです。なお、「<B>DBへ代入</B>」が可能なのは可変DBのみで、それ以外のDBを扱うときは常に「<B>変数に代入</B>」が選択されます。<BR>
<BR>
<BR>
<B>２．データベースの対象</B><BR>
　処理したい（または読み込みたい）データベースの<B>タイプ番号・データ番号・項目番号</B>を指定します。この欄には2000000（通常変数0番）などの変数も指定可能です。<BR>
<BR>
　タイプ番号を指定して「<B>データ数取得</B>」「<B>項目数取得</B>」のチェックボックスにチェックを入れると、指定したタイプのデータ数や項目数が変数に代入されます。<BR>
　指定した「番号」の「<B>タイプ名取得</B>」「<B>データ名取得</B>」「<B>項目名取得</B>」、または指定した「<B>名前</B>」の「<B>タイプ番号取得</B>」「<B>データ番号取得</B>」「<B>項目番号取得</B>」も可能です。<BR>
<BR>
　タイプ番号を指定して「<B>全データ初期化</B>」をすると、その可変DBタイプが全初期化されます。タイプ番号とデータ番号を指定して「<B>全内容初期化</B>」をすることで特定のデータのみを初期化することもできます。なお、初期化する数値は、「<A href="05dbtype.html">タイプの内容設定</A>」指定された初期値になります（ゲーム開始時の値とは異なります）。<BR>
<BR>
　また、各入力欄の「<B>名前</B>」にチェックを入れると、データベースのタイプ/データ/項目の名前で呼び出すことができます。可変DBでデータIDの設定方法に「最初の文字列データ」を設定している場合、途中で書き換えられても指定できるのはゲーム開始時の文字列になります。なお、特殊文字による変数呼び出しはできませんので注意してください(例えば、\cself[5]と入力しても、コモンセルフ5の中身の文字列ではなく、&quot;\cself[5]&quot;という項目名が検索されます)。<BR>
<BR>
<BR>
<B>３．処理変数</B><BR>
　読み込みたい（または処理したい）変数を指定します。「＝」などの演算子の意味については「<A href="04ev_calc.html">計算式の説明</A>」を参照してください<BR>
<BR>
<br>
<B>4．データ操作　「新データ挿入↑」「データ抜き取り↑」「データコピー↑」</B><BR>
　ゲーム中、データベースのデータを特定個数だけ「挿入」したり、特定個数だけ「抜き取ったり」、特定データの全項目を特定番号のデータに「コピー」することができます。<br>
　「挿入」「抜き取り」すると操作した場所以降のデータ番号もずれます。<br>
<BR>
<BR>
<B>5．ゲーム中のCSVファイル読み込み・保存機能</B><BR>
　ゲーム中、データベースのデータをCSVファイルへ保存したり、CSVファイルからのデータ読み込みが可能です（CSVファイル＝カンマ区切りのテキストデータファイル）。　ユーザDBを上書きすることも可能ですが、「データ名」を「名前で呼出」してる場合は挙動がおかしくなります。
データ名とデータ番号のひも付けは、高速化のために、ゲーム開始時に一括して行っているので、途中で変更しても反映されないためです。<br>
　「読込ファイル」欄には特殊文字の\s[?]や\cself[?]などが使用可能です。<BR>
<br>　<span style="color : #999999;">※対象ファイルのアドレスとして「//」「\\」「..」「./」「.\」「%」「:」「*」「?」「&quot;」「&lt;」「&gt;」「|」が含まれているとエラーが出ますので注意してください(Ver3.00より)。</span><BR>
　<br>

<hr>
<P><b><span style="font-size : 120%;">【「データ番号」/「項目番号」指定で限界オーバーした場合】</span></b><br>
<br>
　データベースの「データ番号」は0〜9999まで、「項目番号」は0〜99の範囲までしか使えませんが、実はその数をオーバーした値を指定することもできます。<br>
<br>
　●たとえばデータ番号を「10000」にすると「次のタイプのDB」を対象にします。<br>
　　「<b><span style="color : #cc0000;">タイプ20</span>の</b><span style="color : #cc0000;"><b>データ番号10000</b></span>」は、実際には「<b><span style="color : #cc0000;">タイプ21</span>の<span style="color : #cc0000;">データ番号0</span></b>」として扱われるのです。<br>
<br>
　●「項目番号」も同様で「<b>タイプ20の<span style="color : #cc0000;">データ番号2</span>の<span style="color : #cc0000;">項目番号200</span></b>」に指定した場合は「<b>タイプ20の<span style="color : #cc0000;">データ番号4</span>の<span style="color : #cc0000;">項目0</span></b>」扱いになります。<br>
<br>
　→　これらは「タイプをまたいで10000個以上のデータを扱ったり」、「データをまたいで100個以上の項目を扱う状況」のために用意されている仕様です。<br>
　　　単純に「データ番号が限界を越えると次のタイプに移る」「項目番号が限界を越えると次のデータに移る」というだけなので、必要に応じてうまく活用してみてください。<br>
　　　（たとえば同じタイプ3つ分をタイプ20〜22に並べて使えば、「タイプ20の0〜29999番まで」の「データ」を保存することもできます）<br>
　　　　<br>
　
</BODY>
</HTML>